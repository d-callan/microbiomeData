<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="An R package containing all of the curated datasets from MicrobiomeDB.org and functions for conveniently using that data in R.">
<title>Curated Data from MicrobiomeDB.org • microbiomeData</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Curated Data from MicrobiomeDB.org">
<meta property="og:description" content="An R package containing all of the curated datasets from MicrobiomeDB.org and functions for conveniently using that data in R.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">microbiomeData</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/microbiomeDB/microbiomeData/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="microbiomedata">microbiomeData<a class="anchor" aria-label="anchor" href="#microbiomedata"></a>
</h1></div>
<p>An R package containing some (eventually all!) of the curated datasets from MicrobiomeDB.org and various helper functions for conveniently using that data in R.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Use the R package <a href="https://cran.r-project.org/web/packages/remotes/index.html" class="external-link">remotes</a> to install microbiomeData. From the R command prompt:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'microbiomeDB/microbiomeData'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>This package could be used directly to explore data you’ve downloaded from MicrobiomeDB.org, or it could be used for data management as a dependency in another package.</p>
<div class="section level3">
<h3 id="direct-usage">Direct Usage<a class="anchor" aria-label="anchor" href="#direct-usage"></a>
</h3>
<p>You can download data for a particular microbiome study from MicrobiomeDB.org. Data files from the website are organized by ‘entity’, with some entities representing sample metadata and others assay data. The assay data are organized into ‘collections’ where a particular collection might for example represent all abundances for a particular taxonomic rank for a particular assay. The column names in the assay data files are prepended with their collection id.</p>
<p>You can pass lists of files to a method called <code>MbioDataset</code>. You can pass one list of files for any entities representing sample metadata and a second list of files for any entities representing assay data/ collections. You can optionally pass an ontology file containing mappings between stable identifiers and human-readable labels for the data. If you got the files from the ‘Full Dataset’ Downloads section of our website, or have organized yours similarly enough, we’ll parse them into the appropriate collections for you. That might look something like this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myData</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/MbioDataset-methods.html">MbioDataset</a></span><span class="op">(</span>collections <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fileA</span>, <span class="va">fileB</span><span class="op">)</span>, metadata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">fileD</span>, <span class="va">fileE</span><span class="op">)</span>, ontology <span class="op">=</span> <span class="va">fileZ</span><span class="op">)</span></span></code></pre></div>
<p>If you already read those files into R, you can do a similar thing except passing lists of data.frame or data.table objects and things will work the same.</p>
<p>Once you have <code>myData</code>, you can ask for specific collections from that dataset. That might look something like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/getCollectionNames.html">getCollectionNames</a></span><span class="op">(</span><span class="va">myData</span><span class="op">)</span> <span class="co"># will print the names of collections</span></span>
<span><span class="va">myData</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/updateCollectionName.html">updateCollectionName</a></span><span class="op">(</span><span class="va">myData</span>, <span class="st">'16S-species'</span>, <span class="st">'16S Species'</span><span class="op">)</span></span>
<span><span class="va">myCollection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/getCollection.html">getCollection</a></span><span class="op">(</span><span class="va">myData</span>, <span class="st">'16S Species'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="usage-as-a-package-dependency">Usage as a Package Dependency<a class="anchor" aria-label="anchor" href="#usage-as-a-package-dependency"></a>
</h3>
<p>This package may be used as a dependency in other R packages. In order to establish that depedency the developer of the dependent package must follow these steps: 1. add <code>microbiomeData</code> to the <code>Imports</code> section of the dependent package’s <code>DESCRIPTION</code> file. 2. add a <code>Remotes</code> section to the dependent package’s <code>DESCRIPTION</code> file. 3. add <code>microbiomeDB/microbiomeData</code> to the <code>Remotes</code> section of the dependent package’s <code>DESCRIPTION</code> file. 4. add <code>#' @import microbiomeData</code> to the dependent package’s package-level documentation file (usually called <code>{mypackage}-package.R</code>). 5. run <code>devtools::document()</code>.</p>
<p>The developer of the dependent package can either install this package using <code>remotes</code> as descripted in the “Installation” section above, or if they mean to also develop microbiomeData simultaneously, can use <code>devtools::load_all("{path-to-microbiomeData}")</code> to load this package in their R session.</p>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.</p>
<p>Please make sure to update tests as appropriate.</p>
<p>If you are trying to add data a dataset to the package, then on your local machine you should: 1. Make sure you have <code>devtools</code> installed locally. 2. Clone this repository and make a branch to work in. 3. Create an <code>MbioDataset</code> object in your local R using the ‘Direct Usage’ instructions above. 4. Make sure your new dataset and its collections, etc are named well enough for others to use them too. 5. Use <code>usethis::use_data</code> to add the <code>MbioDataset</code> object to the package. Be sure you’re working in the branch you made. 6. Add documentation for your dataset in R/data.R following this example: <code>R    #' World Health Organization TB data    #'    #' A subset of data from the World Health Organization Global Tuberculosis    #' Report ...    #'    #' @format ## `who`    #' A data frame with 7,240 rows and 60 columns:    #' \describe{    #'   \item{country}{Country name}    #'   \item{iso2, iso3}{2 &amp; 3 letter ISO country codes}    #'   \item{year}{Year}    #'   ...    #' }    #' @source &lt;https://www.who.int/teams/global-tuberculosis-programme/data&gt;    "who" ## This is the name of your `MbioDataset` object</code> 7. Use <code>devtools::document()</code> to generate a man page for the MbioDataset. 8. Make a Pull Request against this repo!</p>
<p>See <a href="https://github.com/microbiomeDB/microbiomeData/pull/11" class="external-link">PR #11</a> for an example</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><a href="https://www.apache.org/licenses/LICENSE-2.0.txt" class="external-link">Apache 2.0</a></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/microbiomeDB/microbiomeData/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/microbiomeDB/microbiomeData/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing microbiomeData</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Danielle Callan <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/microbiomeDB/microbiomeData/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/microbiomeDB/microbiomeData/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Danielle Callan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
